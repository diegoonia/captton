@model IEnumerable<MVCDemo.Models.Libro>

@{
    ViewBag.Title = "Index";
}

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<h2>Index</h2>

<p >
    @Html.ActionLink("Agregar libro", "Create", null, new { @class = "btn btn-success" })
</p>
<br /><br />
<table class="table">
    <tr>
        <th>
            ISBN
        </th>
        <th>
            Título
        </th>
        <th>
            Fecha edición
        </th>
        <th>
            Editorial
        </th>
        <th>
            Autor/es
        </th>
        <th>
            Cantidad de páginas
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.ISBN)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.titulo)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.fechaDeEdicion.Day) /
            @Html.DisplayFor(modelItem => item.fechaDeEdicion.Month) /
            @Html.DisplayFor(modelItem => item.fechaDeEdicion.Year)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Editorial.nombre)
        </td>
        <td>
            @foreach (var item2 in item.Autor)
            {
                @item2.nombre
                <br />
            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.cantidadPaginas)
        </td>
        <td>
            @Html.ActionLink("Editar", "Edit", new { id=item.ISBN }, new { @class = "btn btn-info" })
            @Html.ActionLink("Detalle", "Details", new { id=item.ISBN }, new { @class = "btn btn-warning" })
            @Html.ActionLink("Eliminar", "Delete", new { id=item.ISBN }, new { @class = "btn btn-danger" })
        </td>
    </tr>
}

</table>

<div>

    <h2>Filtrar</h2>
    <form action="#" method="post">
        <table>
            <tr>
                <td>
                    <label>Por Editorial</label>
                    <br />
                    @Html.DropDownList("edi", "Seleccione Editorial")
                    <br />
                    <input class="btn btn-primary" type="submit" name="btnEdi" value="Buscar" />
                </td>
                <td>
                    <label>Por Genero</label>
                    <br />
                    @Html.DropDownList("gen", "Seleccione Genero")
                    <br />
                    <input class="btn btn-primary" type="submit" name="btnGen" value="Buscar" />
                </td>
            </tr>
        </table>
    </form>


    
    
</div>